<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="1577px" preserveAspectRatio="none" style="width:2805px;height:1577px;background:#FFFFFF;" version="1.1" viewBox="0 0 2805 1577" width="2805px" zoomAndPan="magnify"><defs><filter height="300%" id="f1o6ynmp859kej" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><rect fill="#FFFFFF" filter="url(#f1o6ynmp859kej)" height="1385.6406" style="stroke:#A80036;stroke-width:1.0;" width="10" x="78" y="98.2969"/><rect fill="#FFFFFF" filter="url(#f1o6ynmp859kej)" height="103.3984" style="stroke:#A80036;stroke-width:1.0;" width="10" x="563" y="119.4297"/><rect fill="#FFFFFF" filter="url(#f1o6ynmp859kej)" height="208.0625" style="stroke:#A80036;stroke-width:1.0;" width="10" x="563" y="276.0938"/><rect fill="#FFFFFF" filter="url(#f1o6ynmp859kej)" height="815.9844" style="stroke:#A80036;stroke-width:1.0;" width="10" x="563" y="513.2891"/><rect fill="#FFFFFF" filter="url(#f1o6ynmp859kej)" height="116.5313" style="stroke:#A80036;stroke-width:1.0;" width="10" x="563" y="1358.4063"/><rect fill="#FFFFFF" filter="url(#f1o6ynmp859kej)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1373" y="148.5625"/><rect fill="#FFFFFF" filter="url(#f1o6ynmp859kej)" height="73.3984" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1373" y="374.625"/><rect fill="#FFFFFF" filter="url(#f1o6ynmp859kej)" height="29.1328" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1373" y="542.4219"/><rect fill="#FFFFFF" filter="url(#f1o6ynmp859kej)" height="44.2656" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1373" y="728.2188"/><rect fill="#FFFFFF" filter="url(#f1o6ynmp859kej)" height="44.2656" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1373" y="859.8828"/><rect fill="#FFFFFF" filter="url(#f1o6ynmp859kej)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1373" y="1052.9453"/><rect fill="#FFFFFF" filter="url(#f1o6ynmp859kej)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1373" y="1202.7422"/><rect fill="#FFFFFF" filter="url(#f1o6ynmp859kej)" height="29.1328" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1373" y="1387.5391"/><rect fill="#FFFFFF" filter="url(#f1o6ynmp859kej)" height="44.2656" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1550" y="571.5547"/><rect fill="#FFFFFF" filter="url(#f1o6ynmp859kej)" height="29.1328" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1550" y="1416.6719"/><rect fill="#FFFFFF" filter="url(#f1o6ynmp859kej)" height="29.1328" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1840" y="1445.8047"/><rect fill="#FFFFFF" filter="url(#f1o6ynmp859kej)" height="59.1328" style="stroke:#A80036;stroke-width:1.0;" width="10" x="2002" y="615.8203"/><rect fill="#FFFFFF" filter="url(#f1o6ynmp859kej)" height="58.2656" style="stroke:#A80036;stroke-width:1.0;" width="10" x="2002" y="772.4844"/><rect fill="#FFFFFF" filter="url(#f1o6ynmp859kej)" height="58.2656" style="stroke:#A80036;stroke-width:1.0;" width="10" x="2002" y="904.1484"/><rect fill="#FFFFFF" filter="url(#f1o6ynmp859kej)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="2235" y="644.9531"/><rect fill="#FFFFFF" filter="url(#f1o6ynmp859kej)" height="29.1328" style="stroke:#A80036;stroke-width:1.0;" width="10" x="2235" y="801.6172"/><rect fill="#FFFFFF" filter="url(#f1o6ynmp859kej)" height="29.1328" style="stroke:#A80036;stroke-width:1.0;" width="10" x="2235" y="933.2813"/><rect fill="#FFFFFF" filter="url(#f1o6ynmp859kej)" height="218.1953" style="stroke:#000000;stroke-width:2.0;" width="1482" x="9" y="237.8281"/><rect fill="#FFFFFF" filter="url(#f1o6ynmp859kej)" height="280.4609" style="stroke:#000000;stroke-width:2.0;" width="1798" x="479.5" y="689.9531"/><rect fill="#FFFFFF" filter="url(#f1o6ynmp859kej)" height="316.7266" style="stroke:#000000;stroke-width:2.0;" width="1011.5" x="479.5" y="984.4141"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="83" x2="83" y1="88.2969" y2="1492.9375"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="567.5" x2="567.5" y1="88.2969" y2="1492.9375"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="1378" x2="1378" y1="88.2969" y2="1492.9375"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="1554.5" x2="1554.5" y1="88.2969" y2="1492.9375"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="1844.5" x2="1844.5" y1="88.2969" y2="1492.9375"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="2006.5" x2="2006.5" y1="88.2969" y2="1492.9375"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="2239.5" x2="2239.5" y1="88.2969" y2="1492.9375"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="2362.5" x2="2362.5" y1="88.2969" y2="1492.9375"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="2531.5" x2="2531.5" y1="88.2969" y2="1492.9375"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="2704.5" x2="2704.5" y1="88.2969" y2="1492.9375"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="100" x="30" y="84.9951">Administrator</text><ellipse cx="83" cy="15" fill="#FEFECE" filter="url(#f1o6ynmp859kej)" rx="8" ry="8" style="stroke:#A80036;stroke-width:2.0;"/><path d="M83,23 L83,50 M70,31 L96,31 M83,50 L70,65 M83,50 L96,65 " fill="none" filter="url(#f1o6ynmp859kej)" style="stroke:#A80036;stroke-width:2.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="100" x="30" y="1504.9326">Administrator</text><ellipse cx="83" cy="1518.2344" fill="#FEFECE" filter="url(#f1o6ynmp859kej)" rx="8" ry="8" style="stroke:#A80036;stroke-width:2.0;"/><path d="M83,1526.2344 L83,1553.2344 M70,1534.2344 L96,1534.2344 M83,1553.2344 L70,1568.2344 M83,1553.2344 L96,1568.2344 " fill="none" filter="url(#f1o6ynmp859kej)" style="stroke:#A80036;stroke-width:2.0;"/><rect fill="#FEFECE" filter="url(#f1o6ynmp859kej)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="153" x="489.5" y="53"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="139" x="496.5" y="72.9951">:CreateAReportGUI</text><rect fill="#FEFECE" filter="url(#f1o6ynmp859kej)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="153" x="489.5" y="1491.9375"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="139" x="496.5" y="1511.9326">:CreateAReportGUI</text><rect fill="#FEFECE" filter="url(#f1o6ynmp859kej)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="202" x="1275" y="53"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="188" x="1282" y="72.9951">:CreateAReportController</text><rect fill="#FEFECE" filter="url(#f1o6ynmp859kej)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="202" x="1275" y="1491.9375"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="188" x="1282" y="1511.9326">:CreateAReportController</text><rect fill="#FEFECE" filter="url(#f1o6ynmp859kej)" height="46.5938" style="stroke:#A80036;stroke-width:1.5;" width="87" x="1509.5" y="36.7031"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="8" x="1549" y="56.6982">c</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="73" x="1516.5" y="72.9951">:Company</text><rect fill="#FEFECE" filter="url(#f1o6ynmp859kej)" height="46.5938" style="stroke:#A80036;stroke-width:1.5;" width="87" x="1509.5" y="1491.9375"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="8" x="1549" y="1511.9326">c</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="73" x="1516.5" y="1528.2295">:Company</text><rect fill="#FEFECE" filter="url(#f1o6ynmp859kej)" height="46.5938" style="stroke:#A80036;stroke-width:1.5;" width="107" x="1789.5" y="36.7031"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="23" x="1831.5" y="56.6982">API</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="93" x="1796.5" y="72.9951">:Report2NHS</text><rect fill="#FEFECE" filter="url(#f1o6ynmp859kej)" height="46.5938" style="stroke:#A80036;stroke-width:1.5;" width="107" x="1789.5" y="1491.9375"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="23" x="1831.5" y="1511.9326">API</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="93" x="1796.5" y="1528.2295">:Report2NHS</text><rect fill="#FEFECE" filter="url(#f1o6ynmp859kej)" height="46.5938" style="stroke:#A80036;stroke-width:1.5;" width="91" x="1959.5" y="36.7031"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="14" x="1998" y="56.6982">ts</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="77" x="1966.5" y="72.9951">:TestStore</text><rect fill="#FEFECE" filter="url(#f1o6ynmp859kej)" height="46.5938" style="stroke:#A80036;stroke-width:1.5;" width="91" x="1959.5" y="1491.9375"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="14" x="1998" y="1511.9326">ts</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="77" x="1966.5" y="1528.2295">:TestStore</text><rect fill="#FEFECE" filter="url(#f1o6ynmp859kej)" height="46.5938" style="stroke:#A80036;stroke-width:1.5;" width="51" x="2212.5" y="36.7031"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="7" x="2234.5" y="56.6982">t</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="37" x="2219.5" y="72.9951">:Test</text><rect fill="#FEFECE" filter="url(#f1o6ynmp859kej)" height="46.5938" style="stroke:#A80036;stroke-width:1.5;" width="51" x="2212.5" y="1491.9375"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="7" x="2234.5" y="1511.9326">t</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="37" x="2219.5" y="1528.2295">:Test</text><rect fill="#FEFECE" filter="url(#f1o6ynmp859kej)" height="46.5938" style="stroke:#A80036;stroke-width:1.5;" width="167" x="2277.5" y="36.7031"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="24" x="2349" y="56.6982">gnr</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="153" x="2284.5" y="72.9951">:GenerateNHSReport</text><rect fill="#FEFECE" filter="url(#f1o6ynmp859kej)" height="46.5938" style="stroke:#A80036;stroke-width:1.5;" width="167" x="2277.5" y="1491.9375"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="24" x="2349" y="1511.9326">gnr</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="153" x="2284.5" y="1528.2295">:GenerateNHSReport</text><rect fill="#FEFECE" filter="url(#f1o6ynmp859kej)" height="46.5938" style="stroke:#A80036;stroke-width:1.5;" width="142" x="2458.5" y="36.7031"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="10" x="2524.5" y="56.6982">lr</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="128" x="2465.5" y="72.9951">:LinearRegression</text><rect fill="#FEFECE" filter="url(#f1o6ynmp859kej)" height="46.5938" style="stroke:#A80036;stroke-width:1.5;" width="142" x="2458.5" y="1491.9375"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="10" x="2524.5" y="1511.9326">lr</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="128" x="2465.5" y="1528.2295">:LinearRegression</text><rect fill="#FEFECE" filter="url(#f1o6ynmp859kej)" height="46.5938" style="stroke:#A80036;stroke-width:1.5;" width="177" x="2614.5" y="36.7031"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="24" x="2691" y="56.6982">mlr</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="163" x="2621.5" y="72.9951">:MultiLinearRegression</text><rect fill="#FEFECE" filter="url(#f1o6ynmp859kej)" height="46.5938" style="stroke:#A80036;stroke-width:1.5;" width="177" x="2614.5" y="1491.9375"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="24" x="2691" y="1511.9326">mlr</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="163" x="2621.5" y="1528.2295">:MultiLinearRegression</text><rect fill="#FFFFFF" filter="url(#f1o6ynmp859kej)" height="1385.6406" style="stroke:#A80036;stroke-width:1.0;" width="10" x="78" y="98.2969"/><rect fill="#FFFFFF" filter="url(#f1o6ynmp859kej)" height="103.3984" style="stroke:#A80036;stroke-width:1.0;" width="10" x="563" y="119.4297"/><rect fill="#FFFFFF" filter="url(#f1o6ynmp859kej)" height="208.0625" style="stroke:#A80036;stroke-width:1.0;" width="10" x="563" y="276.0938"/><rect fill="#FFFFFF" filter="url(#f1o6ynmp859kej)" height="815.9844" style="stroke:#A80036;stroke-width:1.0;" width="10" x="563" y="513.2891"/><rect fill="#FFFFFF" filter="url(#f1o6ynmp859kej)" height="116.5313" style="stroke:#A80036;stroke-width:1.0;" width="10" x="563" y="1358.4063"/><rect fill="#FFFFFF" filter="url(#f1o6ynmp859kej)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1373" y="148.5625"/><rect fill="#FFFFFF" filter="url(#f1o6ynmp859kej)" height="73.3984" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1373" y="374.625"/><rect fill="#FFFFFF" filter="url(#f1o6ynmp859kej)" height="29.1328" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1373" y="542.4219"/><rect fill="#FFFFFF" filter="url(#f1o6ynmp859kej)" height="44.2656" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1373" y="728.2188"/><rect fill="#FFFFFF" filter="url(#f1o6ynmp859kej)" height="44.2656" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1373" y="859.8828"/><rect fill="#FFFFFF" filter="url(#f1o6ynmp859kej)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1373" y="1052.9453"/><rect fill="#FFFFFF" filter="url(#f1o6ynmp859kej)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1373" y="1202.7422"/><rect fill="#FFFFFF" filter="url(#f1o6ynmp859kej)" height="29.1328" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1373" y="1387.5391"/><rect fill="#FFFFFF" filter="url(#f1o6ynmp859kej)" height="44.2656" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1550" y="571.5547"/><rect fill="#FFFFFF" filter="url(#f1o6ynmp859kej)" height="29.1328" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1550" y="1416.6719"/><rect fill="#FFFFFF" filter="url(#f1o6ynmp859kej)" height="29.1328" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1840" y="1445.8047"/><rect fill="#FFFFFF" filter="url(#f1o6ynmp859kej)" height="59.1328" style="stroke:#A80036;stroke-width:1.0;" width="10" x="2002" y="615.8203"/><rect fill="#FFFFFF" filter="url(#f1o6ynmp859kej)" height="58.2656" style="stroke:#A80036;stroke-width:1.0;" width="10" x="2002" y="772.4844"/><rect fill="#FFFFFF" filter="url(#f1o6ynmp859kej)" height="58.2656" style="stroke:#A80036;stroke-width:1.0;" width="10" x="2002" y="904.1484"/><rect fill="#FFFFFF" filter="url(#f1o6ynmp859kej)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="2235" y="644.9531"/><rect fill="#FFFFFF" filter="url(#f1o6ynmp859kej)" height="29.1328" style="stroke:#A80036;stroke-width:1.0;" width="10" x="2235" y="801.6172"/><rect fill="#FFFFFF" filter="url(#f1o6ynmp859kej)" height="29.1328" style="stroke:#A80036;stroke-width:1.0;" width="10" x="2235" y="933.2813"/><polygon fill="#A80036" points="551,115.4297,561,119.4297,551,123.4297,555,119.4297" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="88" x2="557" y1="119.4297" y2="119.4297"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="95" y="114.3638">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="194" x="108" y="114.3638">wants to create an NHS report</text><polygon fill="#A80036" points="1361,144.5625,1371,148.5625,1361,152.5625,1365,148.5625" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="573" x2="1367" y1="148.5625" y2="148.5625"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="580" y="143.4966">2</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="163" x="593" y="143.4966">loadReportInputWindow()</text><polygon fill="#A80036" points="99,218.8281,89,222.8281,99,226.8281,95,222.8281" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="93" x2="567" y1="222.8281" y2="222.8281"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="8" x="105" y="210.1958">3</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="311" x="117" y="202.6294">shows a window asking for the necessary inputs</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="299" x="121" y="217.7622">and waits for the user to select and type them</text><path d="M9,237.8281 L87,237.8281 L87,244.8281 L77,254.8281 L9,254.8281 L9,237.8281 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.0;"/><rect fill="none" height="218.1953" style="stroke:#000000;stroke-width:2.0;" width="1482" x="9" y="237.8281"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="33" x="24" y="250.895">loop</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="256" x="102" y="250.0386">[(while the user types incorrect data)]</text><polygon fill="#A80036" points="551,272.0938,561,276.0938,551,280.0938,555,276.0938" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="88" x2="557" y1="276.0938" y2="276.0938"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="95" y="271.0278">4</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="308" x="108" y="271.0278">types and selects the data that he wants to use</text><path d="M19,289.0938 L19,329.0938 L630,329.0938 L630,299.0938 L620,289.0938 L19,289.0938 " fill="#FBFB77" filter="url(#f1o6ynmp859kej)" style="stroke:#A80036;stroke-width:1.0;"/><path d="M620,289.0938 L620,299.0938 L630,299.0938 L620,289.0938 " fill="#FBFB77" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="256" x="144.25" y="306.1606">some inputs here are selected and they</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="344" x="148.25" y="321.2935">cannot be wrong as they are selected through javaFX</text><polygon fill="#A80036" points="1361,370.625,1371,374.625,1361,378.625,1365,374.625" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="573" x2="1367" y1="374.625" y2="374.625"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="580" y="361.9927">5</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="294" x="593" y="354.4263">checkIfStringisANumber(historicalPointsString,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="303" x="593" y="369.5591">aHypothesisParameter,bHypothesisParameter)</text><polygon fill="#A80036" points="1361,399.7578,1371,403.7578,1361,407.7578,1365,403.7578" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="573" x2="1367" y1="403.7578" y2="403.7578"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="580" y="398.6919">6</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="238" x="593" y="398.6919">checkDateIntervalsString(DateString)</text><polygon fill="#A80036" points="1366,444.0234,1376,448.0234,1366,452.0234,1370,448.0234" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="573" x2="1372" y1="448.0234" y2="448.0234"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="580" y="435.3911">7</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="480" x="593" y="427.8247">checkSignificanceStrings(bHypothesisSignificance,aHypothesisSignificance,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="338" x="593" y="442.9575">fDecisionSignificance,confidenceIntervalSignificance)</text><polygon fill="#A80036" points="99,480.1563,89,484.1563,99,488.1563,95,484.1563" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="93" x2="567" y1="484.1563" y2="484.1563"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="105" y="479.0903">8</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="291" x="118" y="479.0903">confirms that the user typed the correct data</text><polygon fill="#A80036" points="551,509.2891,561,513.2891,551,517.2891,555,513.2891" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="88" x2="557" y1="513.2891" y2="513.2891"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="95" y="508.2231">9</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="417" x="108" y="508.2231">tells the user that the Report is being generated and generates it</text><polygon fill="#A80036" points="1361,538.4219,1371,542.4219,1361,546.4219,1365,542.4219" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="573" x2="1367" y1="542.4219" y2="542.4219"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="19" x="580" y="537.356">10</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="675" x="603" y="537.356">arrY=getLRPositiveTestsOnInterval(LRIntervalStartDate,LRIntervalFinishDate,selectedHistoricalPointType)</text><polygon fill="#A80036" points="1538,567.5547,1548,571.5547,1538,575.5547,1542,571.5547" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1378" x2="1544" y1="571.5547" y2="571.5547"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="1385" y="566.4888">11</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="115" x="1407" y="566.4888">ts=getTestStore()</text><polygon fill="#A80036" points="1990,611.8203,2000,615.8203,1990,619.8203,1994,615.8203" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1555" x2="1996" y1="615.8203" y2="615.8203"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="1562" y="603.188">12</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="401" x="1584" y="595.6216">arrY=getArrayOfTestsPerformedOnDates(LRIntervalStartDate,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="316" x="1584" y="610.7544">LRIntervalFinishDate,selectedHistoricalPointType)</text><polygon fill="#A80036" points="2223,640.9531,2233,644.9531,2223,648.9531,2227,644.9531" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="2012" x2="2229" y1="644.9531" y2="644.9531"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="17" x="2019" y="639.8872">13</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="178" x="2040" y="639.8872">vDate= getValidationDate()</text><path d="M479.5,689.9531 L551.5,689.9531 L551.5,696.9531 L541.5,706.9531 L479.5,706.9531 L479.5,689.9531 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.0;"/><rect fill="none" height="280.4609" style="stroke:#000000;stroke-width:2.0;" width="1798" x="479.5" y="689.9531"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="27" x="494.5" y="703.02">opt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="858" x="566.5" y="702.1636">[only one of the following arrays of x is selected if simple linear Regression is being used,both if multilinear regression is used]</text><polygon fill="#A80036" points="1361,724.2188,1371,728.2188,1361,732.2188,1365,728.2188" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="573" x2="1367" y1="728.2188" y2="728.2188"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="580" y="723.1528">14</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="685" x="602" y="723.1528">arrX1=getLRTestsPerformedOnDate(LRIntervalStartDate,LRIntervalFinishDate,selectedHistoricalPointType)</text><polygon fill="#A80036" points="1990,768.4844,2000,772.4844,1990,776.4844,1994,772.4844" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1378" x2="1996" y1="772.4844" y2="772.4844"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="1385" y="759.8521">15</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="460" x="1407" y="752.2856">arrX1=getArrayOfPositiveTestsPerformedOnDates(LRIntervalStartDate,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="316" x="1407" y="767.4185">LRIntervalFinishDate,selectedHistoricalPointType)</text><polygon fill="#A80036" points="2223,797.6172,2233,801.6172,2223,805.6172,2227,801.6172" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="2012" x2="2229" y1="801.6172" y2="801.6172"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="2019" y="796.5513">16</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="178" x="2041" y="796.5513">vDate= getValidationDate()</text><polygon fill="#A80036" points="2228,826.75,2238,830.75,2228,834.75,2232,830.75" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="2007" x2="2234" y1="830.75" y2="830.75"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="2014" y="825.6841">17</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="177" x="2036" y="825.6841">testResult= isTestPositive()</text><polygon fill="#A80036" points="1361,855.8828,1371,859.8828,1361,863.8828,1365,859.8828" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="573" x2="1367" y1="859.8828" y2="859.8828"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="580" y="854.8169">18</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="759" x="602" y="854.8169">arrX2=getLRMeanAgeOfTestsPerformedOnDate(LRIntervalStartDate,LRIntervalFinishDate,selectedHistoricalPointType)</text><polygon fill="#A80036" points="1990,900.1484,2000,904.1484,1990,908.1484,1994,904.1484" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1378" x2="1996" y1="904.1484" y2="904.1484"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="1385" y="891.5161">19</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="419" x="1407" y="883.9497">arrX2=getArrayMeanAgePerformedOnDates(LRIntervalStartDate,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="316" x="1407" y="899.0825">LRIntervalFinishDate,selectedHistoricalPointType)</text><polygon fill="#A80036" points="2223,929.2813,2233,933.2813,2223,937.2813,2227,933.2813" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="2012" x2="2229" y1="933.2813" y2="933.2813"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="19" x="2019" y="928.2153">20</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="178" x="2042" y="928.2153">vDate= getValidationDate()</text><polygon fill="#A80036" points="2228,958.4141,2238,962.4141,2228,966.4141,2232,962.4141" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="2007" x2="2234" y1="962.4141" y2="962.4141"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="2014" y="957.3481">21</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="151" x="2036" y="957.3481">age=getClient.getAge()</text><path d="M479.5,984.4141 L551.5,984.4141 L551.5,991.4141 L541.5,1001.4141 L479.5,1001.4141 L479.5,984.4141 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.0;"/><rect fill="none" height="316.7266" style="stroke:#000000;stroke-width:2.0;" width="1011.5" x="479.5" y="984.4141"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="27" x="494.5" y="997.481">opt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="507" x="566.5" y="996.6245">[one of these is chosen depending on the chosen linear regression method]</text><polygon fill="#A80036" points="1361,1048.9453,1371,1052.9453,1361,1056.9453,1365,1052.9453" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="573" x2="1367" y1="1052.9453" y2="1052.9453"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="580" y="1032.7466">22</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="530" x="602" y="1017.6138">stringForNHSAPI= generateNHSAPIString(arrayY,arrayX,bHypothesisTestParameter</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="640" x="602" y="1032.7466">,bHypothesisSignificance,aHypothesisTestParameter,aHypothesisSignificance,fDecisionSignificance,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="529" x="602" y="1047.8794">historicalPointsDependentVariables,historicalPoints,confidenceIntervalSignificance)</text><rect fill="#FFFFFF" filter="url(#f1o6ynmp859kej)" height="55.3984" style="stroke:#000000;stroke-width:2.0;" width="356" x="1272" y="1090.9453"/><polygon fill="#EEEEEE" points="1272,1090.9453,1340,1090.9453,1340,1097.9453,1330,1107.9453,1272,1107.9453,1272,1090.9453" style="stroke:#000000;stroke-width:2.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="23" x="1285" y="1105.0122">ref</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="348" x="1278" y="1124.0122">SD_GENERATE_LINEAR_REGRESSION_REPORT_STRING</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="213" x="1278" y="1139.145">(the creation of the report String)</text><polygon fill="#A80036" points="1361,1198.7422,1371,1202.7422,1361,1206.7422,1365,1202.7422" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="573" x2="1367" y1="1202.7422" y2="1202.7422"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="17" x="580" y="1182.5435">23</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="585" x="601" y="1167.4106">stringForNHSAPI= generateNHSAPIString(arrayY,arrayX,arrayX2,bHypothesisTestParameter</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="640" x="601" y="1182.5435">,bHypothesisSignificance,aHypothesisTestParameter,aHypothesisSignificance,fDecisionSignificance,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="529" x="601" y="1197.6763">historicalPointsDependentVariables,historicalPoints,confidenceIntervalSignificance)</text><rect fill="#FFFFFF" filter="url(#f1o6ynmp859kej)" height="55.3984" style="stroke:#000000;stroke-width:2.0;" width="356" x="1272" y="1240.7422"/><polygon fill="#EEEEEE" points="1272,1240.7422,1340,1240.7422,1340,1247.7422,1330,1257.7422,1272,1257.7422,1272,1240.7422" style="stroke:#000000;stroke-width:2.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="23" x="1285" y="1254.8091">ref</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="348" x="1278" y="1273.8091">SD_GENERATE_LINEAR_REGRESSION_REPORT_STRING</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="213" x="1278" y="1288.9419">(the creation of the report String)</text><polygon fill="#A80036" points="99,1325.2734,89,1329.2734,99,1333.2734,95,1329.2734" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="93" x2="567" y1="1329.2734" y2="1329.2734"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="105" y="1324.2075">24</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="429" x="127" y="1324.2075">shows the report that is going to be sent and asks for confirmation</text><polygon fill="#A80036" points="551,1354.4063,561,1358.4063,551,1362.4063,555,1358.4063" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="88" x2="557" y1="1358.4063" y2="1358.4063"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="95" y="1353.3403">25</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="124" x="117" y="1353.3403">confirms the report</text><polygon fill="#A80036" points="1361,1383.5391,1371,1387.5391,1361,1391.5391,1365,1387.5391" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="573" x2="1367" y1="1387.5391" y2="1387.5391"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="580" y="1382.4731">26</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="126" x="602" y="1382.4731">sendReportToNHS()</text><polygon fill="#A80036" points="1538,1412.6719,1548,1416.6719,1538,1420.6719,1542,1416.6719" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1378" x2="1544" y1="1416.6719" y2="1416.6719"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="1385" y="1411.606">27</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="126" x="1407" y="1411.606">sendReportToNHS()</text><polygon fill="#A80036" points="1828,1441.8047,1838,1445.8047,1828,1449.8047,1832,1445.8047" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1555" x2="1834" y1="1445.8047" y2="1445.8047"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="1562" y="1440.7388">28</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="239" x="1584" y="1440.7388">writeUsingFileWriter(stringForNHSAPI)</text><polygon fill="#A80036" points="99,1470.9375,89,1474.9375,99,1478.9375,95,1474.9375" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="93" x2="567" y1="1474.9375" y2="1474.9375"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="105" y="1469.8716">29</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="261" x="127" y="1469.8716">tells the user that the API has been sent.</text><!--MD5=[a391fcec52921a5fe92c9f183d2427d3]
@startuml
autonumber
actor "Administrator" as ADM
participant ":CreateAReportGUI" as UI
participant ":CreateAReportController" as CTRL
participant "c\n:Company" as COMP
participant "API\n:Report2NHS" as API
participant "ts\n:TestStore" as TS
participant "t\n:Test" as T
participant "gnr\n:GenerateNHSReport" as GNR
participant "lr\n:LinearRegression" as LR
participant "mlr\n:MultiLinearRegression" as MLR


activate ADM
ADM -> UI : wants to create an NHS report
activate UI
UI -> CTRL: loadReportInputWindow()
activate CTRL
deactivate CTRL
UI - -> ADM: shows a window asking for the necessary inputs \n and waits for the user to select and type them
deactivate UI
loop (while the user types incorrect data)
ADM -> UI : types and selects the data that he wants to use
activate UI
note over ADM,UI:some inputs here are selected and they\n cannot be wrong as they are selected through javaFX
UI -> CTRL: checkIfStringisANumber(historicalPointsString,\naHypothesisParameter,bHypothesisParameter)
activate CTRL
UI -> CTRL: checkDateIntervalsString(DateString)
UI -> CTRL: checkSignificanceStrings(bHypothesisSignificance,aHypothesisSignificance,\nfDecisionSignificance,confidenceIntervalSignificance)
deactivate CTRL
end loop
UI - -> ADM: confirms that the user typed the correct data
deactivate UI
ADM -> UI: tells the user that the Report is being generated and generates it 
activate UI
UI -> CTRL : arrY=getLRPositiveTestsOnInterval(LRIntervalStartDate,LRIntervalFinishDate,selectedHistoricalPointType)
activate CTRL
CTRL -> COMP: ts=getTestStore()
deactivate CTRL
activate COMP
COMP-> TS: arrY=getArrayOfTestsPerformedOnDates(LRIntervalStartDate,\rLRIntervalFinishDate,selectedHistoricalPointType)
deactivate COMP
activate TS
TS -> T: vDate= getValidationDate()
activate T
deactivate TS
deactivate T
opt only one of the following arrays of x is selected if simple linear Regression is being used,both if multilinear regression is used
UI -> CTRL : arrX1=getLRTestsPerformedOnDate(LRIntervalStartDate,LRIntervalFinishDate,selectedHistoricalPointType)
activate CTRL
CTRL -> TS : arrX1=getArrayOfPositiveTestsPerformedOnDates(LRIntervalStartDate,\rLRIntervalFinishDate,selectedHistoricalPointType)
deactivate CTRL
activate TS 
TS -> T: vDate= getValidationDate()
activate T
TS ->T : testResult= isTestPositive()
deactivate TS
deactivate T
UI -> CTRL : arrX2=getLRMeanAgeOfTestsPerformedOnDate(LRIntervalStartDate,LRIntervalFinishDate,selectedHistoricalPointType)
activate CTRL
CTRL -> TS : arrX2=getArrayMeanAgePerformedOnDates(LRIntervalStartDate,\rLRIntervalFinishDate,selectedHistoricalPointType)
deactivate CTRL
activate TS 
TS -> T: vDate= getValidationDate()
activate T
TS ->T : age=getClient.getAge()
deactivate TS
deactivate T
end opt
opt one of these is chosen depending on the chosen linear regression method
UI -> CTRL : stringForNHSAPI= generateNHSAPIString(arrayY,arrayX,bHypothesisTestParameter\n,bHypothesisSignificance,aHypothesisTestParameter,aHypothesisSignificance,fDecisionSignificance,\nhistoricalPointsDependentVariables,historicalPoints,confidenceIntervalSignificance)
activate CTRL
ref over CTRL
  SD_GENERATE_LINEAR_REGRESSION_REPORT_STRING
  (the creation of the report String)
end ref
deactivate CTRL
UI -> CTRL : stringForNHSAPI= generateNHSAPIString(arrayY,arrayX,arrayX2,bHypothesisTestParameter\n,bHypothesisSignificance,aHypothesisTestParameter,aHypothesisSignificance,fDecisionSignificance,\nhistoricalPointsDependentVariables,historicalPoints,confidenceIntervalSignificance)
activate CTRL
ref over CTRL
  SD_GENERATE_LINEAR_REGRESSION_REPORT_STRING
  (the creation of the report String)
end ref
deactivate CTRL
end opt
UI - -> ADM : shows the report that is going to be sent and asks for confirmation
deactivate UI
ADM -> UI : confirms the report
activate UI
UI -> CTRL : sendReportToNHS()
activate CTRL
CTRL -> COMP : sendReportToNHS()
deactivate CTRL
activate COMP  
COMP -> API : writeUsingFileWriter(stringForNHSAPI)
deactivate COMP
activate API
UI - -> ADM: tells the user that the API has been sent.
deactivate API
deactivate UI
@enduml

PlantUML version 1.2021.7(Sun May 23 12:40:07 UTC 2021)
(GPL source distribution)
Java Runtime: Java(TM) SE Runtime Environment
JVM: Java HotSpot(TM) 64-Bit Server VM
Default Encoding: UTF-8
Language: en
Country: US
--></g></svg>